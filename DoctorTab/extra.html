<!--Feedback form-->
  <section id="feedbackFormSection" style="max-width: 600px; display: none; margin: 0 auto; background-color: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);">
    <h1 style="text-align: center; color: #333;">Website Feedback Form</h1>

    <form id="feedbackForm">

        <!-- Role Selection -->
        <label for="userRole" style="display: block; margin-top: 10px; font-weight: bold; color: #333;">I am a:</label>
        <select id="userRole" name="role" required onchange="displayRoleSpecificQuestions()" style="width: 100%; padding: 10px; margin-top: 5px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 4px;">
            <option value="">Select</option>
            <option value="patient">Patient</option>
            <option value="doctor">Doctor</option>
        </select>

        <!-- Hospital Name (Only for Doctors) -->
        <div id="doctorHospitalField" class="hiddenElement" style="display: none;">
            <label for="hospitalName" style="display: block; margin-top: 10px; font-weight: bold; color: #333;">Hospital Name (for Doctors):</label>
            <input type="text" id="hospitalName" name="hospital" style="width: 100%; padding: 10px; margin-top: 5px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 4px;">
        </div>

        <!-- Website Navigation Rating -->
        <label for="siteNavigationRating" style="display: block; margin-top: 10px; font-weight: bold; color: #333;">1. How easy is it to navigate the website? (Rate 1 to 5)</label>
        <input type="number" id="siteNavigationRating" name="navigation" min="1" max="5" placeholder="Enter rating (1-5)" style="width: 100%; padding: 10px; margin-top: 5px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 4px;">

        <!-- Website Usage Experience Rating -->
        <label for="usageExperienceRating" style="display: block; margin-top: 10px; font-weight: bold; color: #333;">2. How would you rate the website upon usage experience? (Rate 1 to 5)</label>
        <input type="number" id="usageExperienceRating" name="experience" min="1" max="5" placeholder="Enter rating (1-5)" style="width: 100%; padding: 10px; margin-top: 5px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 4px;">

        <!-- Issue Encountered -->
        <label style="display: block; margin-top: 10px; font-weight: bold; color: #333;">3. Were there any issues you encountered while using the site?</label>
        <div style="display: block; margin-top: 5px; margin-bottom: 15px;">
            <label style="display: flex; align-items: center; padding: 5px; border: 1px solid #ccc; border-radius: 4px; background-color: #fff;">
                <input type="radio" name="issue" value="yes" onclick="toggleIssueDescription('yes')" style="margin-right: 10px;"> Yes
            </label>
            <label style="display: flex; align-items: center; padding: 5px; border: 1px solid #ccc; border-radius: 4px; background-color: #fff; margin-top: 5px;">
                <input type="radio" name="issue" value="no" onclick="toggleIssueDescription('no')" style="margin-right: 10px;"> No
            </label>
        </div>

        <!-- Textarea for Yes -->
        <textarea id="issueDescriptionYes" name="issueDetailsYes" class="hiddenElement" placeholder="Please describe the issue..." style="display: none; width: 100%; padding: 10px; margin-top: 5px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 4px;"></textarea>
        
        <!-- Textarea for No -->
        <textarea id="issueDescriptionNo" name="issueDetailsNo" class="hiddenElement" placeholder="What worked well for you?" style="display: none; width: 100%; padding: 10px; margin-top: 5px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 4px;"></textarea>

        <!-- Patient-Specific Question -->
        <div id="patientSpecificQuestion" class="hiddenElement" style="display: none;">
            <label for="doctorCommunicationRating" style="display: block; margin-top: 10px; font-weight: bold; color: #333;">4. How would you rate the communication with doctors? (Rate 1 to 5)</label>
            <input type="number" id="doctorCommunicationRating" name="communication" min="1" max="5" placeholder="Enter rating (1-5)" style="width: 100%; padding: 10px; margin-top: 5px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 4px;">
        </div>

        <!-- Doctor-Specific Question -->
        <div id="doctorSpecificQuestion" class="hiddenElement" style="display: none;">
            <label style="display: block; margin-top: 10px; font-weight: bold; color: #333;">5. Is it helpful to view and access patient records from our website?</label>
            <div style="display: block; margin-top: 5px;">
                <label style="display: flex; align-items: center; padding: 5px; border: 1px solid #ccc; border-radius: 4px; background-color: #fff;">
                    <input type="radio" name="recordsAccess" value="yes" style="margin-right: 10px;"> Yes
                </label>
                <label style="display: flex; align-items: center; padding: 5px; border: 1px solid #ccc; border-radius: 4px; background-color: #fff; margin-top: 5px;">
                    <input type="radio" name="recordsAccess" value="no" style="margin-right: 10px;"> No
                </label>
            </div>
        </div>

        <!-- Additional Comments -->
        <label for="additionalFeedback" style="display: block; margin-top: 10px; font-weight: bold; color: #333;">Additional Comments:</label>
        <textarea id="additionalFeedback" name="comments" placeholder="Share any other feedback or suggestions..." style="width: 100%; padding: 10px; height: 100px; margin-top: 5px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 4px;"></textarea>

        <!-- Submit Button -->
        <button type="submit" style="background-color: #333; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer;">Submit Feedback</button>
    </form>
</section>

<script>
    function displayRoleSpecificQuestions() {
        const role = document.getElementById('userRole').value;
        document.getElementById('patientSpecificQuestion').style.display = (role === 'patient') ? 'block' : 'none';
        document.getElementById('doctorSpecificQuestion').style.display = (role === 'doctor') ? 'block' : 'none';
        document.getElementById('doctorHospitalField').style.display = (role === 'doctor') ? 'block' : 'none';
    }
  
    function toggleIssueDescription(choice) {
        document.getElementById('issueDescriptionYes').style.display = (choice === 'yes') ? 'block' : 'none';
        document.getElementById('issueDescriptionNo').style.display = (choice === 'no') ? 'block' : 'none';
    }
  </script>



 <!--Setting Page-->

 <section id="setting-doctor-section" style="display: none; max-width: 800px; margin: 2rem auto; background: white; border-radius: 12px; padding: 2rem; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
    <div class="profile-header" style="display: flex; align-items: center; gap: 2rem; margin-bottom: 2rem;">
      <div class="profile-photo" style="position: relative; width: 120px; height: 120px;">
        <img src="/api/placeholder/120/120" alt="Profile Photo" style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover; border: 3px solid #4361ee;">
        <button class="photo-upload" onclick="showNotification('Photo upload initiated!')" style="position: absolute; bottom: 0; right: 0; background: #4361ee; color: white; border: none; border-radius: 50%; width: 36px; height: 36px; cursor: pointer;">ðŸ“·</button>
      </div>
      <div>
        <h2 style="margin: 0; color: #333;">Fredy Mercury</h2>
        <p style="color: #666; margin: 0;">Doctor Profile Settings</p>
      </div>
    </div>
  
    <h3 style="color: #333; margin-bottom: 1.5rem; padding-bottom: 0.5rem; border-bottom: 2px solid #4361ee;">Profile Information</h3>
  
    <div class="setting-group" style="margin-bottom: 1.5rem; position: relative;">
      <label style="display: block; font-weight: 500; margin-bottom: 0.5rem; color: #333;">User ID</label>
      <input type="text" value="user12345" readonly style="padding: 0.75rem; border: 1px solid #ddd; border-radius: 8px; width: 100%; background-color: #f8f9fa; color: #333;">
    </div>
  
    <div class="setting-group" style="margin-bottom: 1.5rem; position: relative;">
      <label style="display: block; font-weight: 500; margin-bottom: 0.5rem; color: #333;">Date of Birth</label>
      <input type="text" value="01/01/1990" readonly style="padding: 0.75rem; border: 1px solid #ddd; border-radius: 8px; width: 100%; background-color: #f8f9fa; color: #333;">
    </div>
  
    <div class="setting-group" style="margin-bottom: 1.5rem; position: relative;">
      <label style="display: block; font-weight: 500; margin-bottom: 0.5rem; color: #333;">Address</label>
      <input type="text" value="123 Street Name, City, Country" id="address" style="padding: 0.75rem; border: 1px solid #ddd; border-radius: 8px; width: 100%; background-color: #f8f9fa; color: #333;">
    </div>
  
    <div class="setting-group" style="margin-bottom: 1.5rem; position: relative;">
      <label style="display: block; font-weight: 500; margin-bottom: 0.5rem; color: #333;">Contact Number</label>
      <input type="tel" value="+1234567890" disabled style="padding: 0.75rem; border: 1px solid #ddd; border-radius: 8px; width: 100%; background-color: #f8f9fa; color: #333;">
      <button onclick="toggleEdit(this)" style="position: absolute; right: 0; top: 0; background: #4361ee; color: white; border: none; border-radius: 4px; padding: 0.5rem 1rem; cursor: pointer;">Edit</button>
    </div>
  
    <div class="setting-group" style="margin-bottom: 1.5rem; position: relative;">
      <label style="display: block; font-weight: 500; margin-bottom: 0.5rem; color: #333;">Email</label>
      <input type="email" value="doctor@mail.com" disabled style="padding: 0.75rem; border: 1px solid #ddd; border-radius: 8px; width: 100%; background-color: #f8f9fa; color: #333;">
      <button onclick="toggleEdit(this)" style="position: absolute; right: 0; top: 0; background: #4361ee; color: white; border: none; border-radius: 4px; padding: 0.5rem 1rem; cursor: pointer;">Edit</button>
    </div>


  <h3 style="color: #333; margin-bottom: 1.5rem; padding-bottom: 0.5rem; border-bottom: 2px solid #4361ee;">Security Settings</h3>

  <div style="margin-top: 2rem;">
    <h3 style="color: #ef233c;">Danger Zone</h3>
    <p style="color: #666;">Once deleted, your account cannot be recovered</p>
    <button onclick="showNotification('Account deletion initiated')" style="padding: 0.75rem 1.5rem; border: none; border-radius: 8px; background: #ef233c; color: white; cursor: pointer;">Delete Account</button>
  </div>

  <div id="notification" style="position: fixed; top: 20px; right: 20px; padding: 1rem; background: #2ecc71; color: white; border-radius: 8px; display: none;"></div>

  </section>


<script>
    function toggleEdit(button) {
      const input = button.parentElement.querySelector('input');
      const isEditable = input.disabled;
      input.disabled = !isEditable;
      button.textContent = isEditable ? 'Save' : 'Edit';
      
      if (!isEditable) {
        showNotification('Changes saved successfully!');
      }
    }
    
    function showNotification(message) {
      const notification = document.getElementById('notification');
      notification.textContent = message;
      notification.style.display = 'block';
      
      setTimeout(() => {
        notification.style.display = 'none';
      }, 3000);
    }
    </script>
  


  // Function to view document (image) when clicked
  <script>
  function viewDocument(recordId) {
    // Fetch the image data (assuming the image is stored as binary data in MongoDB)
    fetch(`/fetch-record/${recordId}`)
      .then(response => response.blob())
      .then(imageBlob => {
        const imageUrl = URL.createObjectURL(imageBlob);
  
        // Create the overlay div
        const overlay = document.createElement("div");
        overlay.style.position = "fixed";
        overlay.style.top = "0";
        overlay.style.left = "0";
        overlay.style.width = "100%";
        overlay.style.height = "100%";
        overlay.style.backgroundColor = "rgba(0, 0, 0, 0.7)";
        overlay.style.display = "flex";
        overlay.style.justifyContent = "center";
        overlay.style.alignItems = "center";
        overlay.style.zIndex = "9999"; // Make sure it is on top of other content
  
        // Create the image container that will allow scrolling
        const imageContainer = document.createElement("div");
        imageContainer.style.overflow = "auto"; // Allow scrolling
        imageContainer.style.maxWidth = "100%"; // Max width of container
        imageContainer.style.maxHeight = "100vh"; // Max height of container
        imageContainer.style.position = "relative"; // Allow scrolling
        imageContainer.style.cursor = "move"; // Show move cursor for scroll
  
        // Create the image element
        const img = document.createElement("img");
        img.src = imageUrl;
        img.style.width = "100%"; // Initial image width
        img.style.height = "auto"; // Keep image aspect ratio
        img.style.objectFit = "contain"; // Ensure the image fits in the container
        img.style.transition = "transform 0.2s"; // Smooth transition for zooming
  
        let scale = 1;
  
        // Create zoom buttons for zooming in (+) and zooming out (-)
        const zoomInButton = document.createElement("button");
        zoomInButton.textContent = "+";
        zoomInButton.style.position = "absolute";
        zoomInButton.style.top = "20px";
        zoomInButton.style.left = "20px";
        zoomInButton.style.padding = "10px";
        zoomInButton.style.backgroundColor = "#fff";
        zoomInButton.style.border = "none";
        zoomInButton.style.cursor = "pointer";
        zoomInButton.style.fontSize = "20px";
        zoomInButton.style.zIndex = "10000"; // Ensure it is above the image
  
        const zoomOutButton = document.createElement("button");
        zoomOutButton.textContent = "-";
        zoomOutButton.style.position = "absolute";
        zoomOutButton.style.top = "20px";
        zoomOutButton.style.left = "60px";
        zoomOutButton.style.padding = "10px";
        zoomOutButton.style.backgroundColor = "#fff";
        zoomOutButton.style.border = "none";
        zoomOutButton.style.cursor = "pointer";
        zoomOutButton.style.fontSize = "20px";
        zoomOutButton.style.zIndex = "10000"; // Ensure it is above the image
  
        // Zoom in functionality
        zoomInButton.addEventListener("click", function() {
          scale *= 1.1; // Zoom in by 10%
          img.style.transform = `scale(${scale})`; // Apply zoom
        });
  
        // Zoom out functionality
        zoomOutButton.addEventListener("click", function() {
          scale *= 0.9; // Zoom out by 10%
          img.style.transform = `scale(${scale})`; // Apply zoom
        });
  
        // Create a close button
        const closeButton = document.createElement("button");
        closeButton.textContent = "X";
        closeButton.style.position = "absolute";
        closeButton.style.top = "10px";
        closeButton.style.right = "10px";
        closeButton.style.backgroundColor = "#ff0000";
        closeButton.style.color = "#fff";
        closeButton.style.border = "none";
        closeButton.style.borderRadius = "50%";
        closeButton.style.padding = "10px";
        closeButton.style.cursor = "pointer";
        closeButton.style.zIndex = "10000"; // Ensure it is on top of the image
  
        // Close button functionality
        closeButton.onclick = function() {
          document.body.removeChild(overlay);
        };
  
        // Append the image to the container
        imageContainer.appendChild(img);
  
        // Append the container, zoom buttons, and close button to the overlay
        overlay.appendChild(imageContainer);
        overlay.appendChild(zoomInButton);
        overlay.appendChild(zoomOutButton);
        overlay.appendChild(closeButton);
  
        // Append the overlay to the body
        document.body.appendChild(overlay);
      })
      .catch(error => {
        console.error("Error fetching document:", error);
        alert("Error fetching document. Please try again later.");
      });
  }
  </script>
  